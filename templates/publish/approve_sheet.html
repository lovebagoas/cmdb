<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-content">
                    <form role="form" id="publish_form">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <span style="color: red;">*</span><label>&nbsp;发布项目</label>
                                    <input type="text" class="form-control" value="{{ approve_sheet.group_name }}"
                                           readonly>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <span style="color: red;">*</span><label>&nbsp;环境</label>
                                    <input type="text" class="form-control" value="{{ approve_sheet.env }}" readonly>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <span style="color: red;">*</span><label>&nbsp;TAPD URL</label>
                                    <input type="text" class="form-control" value="{{ approve_sheet.tapd_url }}"
                                           readonly>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <span style="color: red;">*</span><label>&nbsp;重启服务 (最多选4个)</label>
                                    <input type="text" class="form-control" value="{{ approve_sheet.services }}"
                                           readonly>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <span style="color: red;">*</span><label>&nbsp;SQL (若有SQL需要执行，请让DBA执行后再发布)</label>
                                    <textarea type="text" class="form-control" id="sql"
                                              rows="5" readonly>{{ approve_sheet.sql }}</textarea>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <span style="color: red;">*</span><label>&nbsp;CONSUL KEY (若有consul
                                    key添加或修改，请让运维操作后再发布)</label>
                                    <textarea type="text" class="form-control" id="consul_key"
                                              rows="5" readonly>{{ approve_sheet.consul_key }}</textarea>
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <span style="color: red;">*</span><label>&nbsp;发布日期</label>
                                    <input type="text" class="form-control" value="{{ approve_sheet.publish_date }}"
                                           readonly>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <span style="color: red;">*</span><label>&nbsp;开始发布时间</label>
                                    <input type="text" class="form-control" value="{{ approve_sheet.publish_time }}"
                                           readonly>
                                </div>
                            </div>
                        </div>

                        <br>
                        <div class="text-center">
                            <a class="btn btn-sm btn-primary m-t-n-xs"
                               id="approve_agree" data-toggle="modal" data-target="#agreeModal">同意
                            </a>&nbsp;&nbsp;&nbsp;&nbsp;
                            <a class="btn btn-sm btn-danger m-t-n-xs"
                               id="approve_refuse" data-toggle="modal" data-target="#refuseModal">拒绝
                            </a>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal inmodal fade" id="agreeModal" tabindex="-1" role="dialog"
     aria-labelledby="addModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content animated fadeIn">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span
                        aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                <i class="fa fa-check modal-icon" style="color: #1AB394"></i>
                <h4 class="modal-title" id="minion_old">同意发布</h4>
            </div>
{#            <div class="modal-body" id="refuse_reason_modal">#}
{#                <label>&nbsp;提醒发布人的注意事项（选填）</label>#}
{#                <textarea type="text" class="form-control" id="agree_text" rows="5"></textarea>#}
{#            </div>#}
            <div class="modal-footer">
                <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" onclick="agreeButton('{{ approve_sheet.id }}')">同意
                </button>
            </div>
        </div>
    </div>
</div>

<div class="modal inmodal fade" id="refuseModal" tabindex="-1" role="dialog"
     aria-labelledby="addModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content animated fadeIn">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span
                        aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                <i class="fa fa-times modal-icon" style="color: red"></i>
                <h4 class="modal-title" id="minion_old">拒绝发布</h4>
            </div>
            <div class="modal-body" id="refuse_reason_modal">
                <span style="color: red;">*</span><label>&nbsp;拒绝理由</label>
                <textarea type="text" class="form-control" id="refuse_text" rows="5"></textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-danger" onclick="refuseButton('{{ approve_sheet.id }}')">拒绝
                </button>
            </div>
        </div>
    </div>
</div>

<script src="/static/js/custom/approve_sheet.js"></script>